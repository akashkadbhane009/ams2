{"version":3,"file":"ak-magic-string.mjs","sources":["../../../projects/magic-string/src/lib/magic-string.service.ts","../../../projects/magic-string/src/lib/magic-string.component.ts","../../../projects/magic-string/src/lib/magic-string.module.ts","../../../projects/magic-string/src/public-api.ts","../../../projects/magic-string/src/ak-magic-string.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MagicStringService {\n\n\n}\n","  import { ChangeDetectorRef, Component, ElementRef, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\n\n  @Component({\n    selector: 'ak-magic-string',\n    template: `\n\n      <input type=\"text\" (keydown.enter)=\"marktext($event)\">\n      <div #content [hidden]=\"true\">\n        <ng-content select=\".text\"></ng-content>\n      </div>\n\n      <div [innerHTML]=\"controlledContent\"></div>\n    `,\n    styles: [\n      `.mark {background-color: yellow}`\n    ],\n    encapsulation : ViewEncapsulation.None\n  })\n  export class MagicStringComponent implements OnInit {\n    @ViewChild('content') content!: ElementRef<any>;\n\n    orinalContenet: string = '';\n    controlledContent: string = '';\n    constructor(private changeDetectorRef: ChangeDetectorRef) {}\n    ngOnInit(): void {\n      // this.controlledContent = this.orinalContenet = this.content.nativeElement.textContent;\n\n    }\n    ngAfterViewInit(): void {\n      this.controlledContent = this.orinalContenet = this.content.nativeElement.textContent;\n\n    }\n    marktext(event: any) {\n      console.log(event.target.value)\n      this.controlledContent = this.orinalContenet;\n      this.controlledContent =this.orinalContenet.replace(new RegExp(event.target.value, 'g'),match => `<span class=\"mark\">${match}</span>`);\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n","import { NgModule } from '@angular/core';\nimport { MagicStringComponent } from './magic-string.component';\n\n\n\n@NgModule({\n  declarations: [\n    MagicStringComponent\n  ],\n  imports: [\n  ],\n  exports: [\n    MagicStringComponent\n  ]\n})\nexport class MagicStringModule { }\n","/*\n * Public API Surface of magic-string\n */\n\nexport * from './lib/magic-string.service';\nexport * from './lib/magic-string.component';\nexport * from './lib/magic-string.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}